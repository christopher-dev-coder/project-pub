{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://G%3A/freelancerTemps/sampleProjects/DoYourTasks/frontend/taskmanagment-frontend/app/page.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function Home() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState(\"\");\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchTasks = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return router.push(\"/auth\");\r\n\r\n      try {\r\n        const res = await axios.get(\"http://localhost:3001/api/tasks\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setTasks(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const addTask = async () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      const res = await axios.post(\"http://localhost:3001/api/tasks\", \r\n        { text: newTask }, \r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setTasks([...tasks, res.data]);\r\n      setNewTask(\"\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    try {\r\n      await axios.delete(`http://localhost:3001/api/tasks/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setTasks(tasks.filter((task) => task._id !== id));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    router.push(\"/auth\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center bg-gray-100 p-4\">\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md w-96\">\r\n        <h1 className=\"text-2xl mb-4\">Tasks Managment</h1>\r\n        <div className=\"mb-4\">\r\n          <input type=\"text\" value={newTask} onChange={(e) => setNewTask(e.target.value)}\r\n            className=\"w-full p-2 border rounded\"/>\r\n          <button onClick={addTask} className=\"w-full bg-green-500 text-white p-2 rounded mt-2\">\r\n            Add a task\r\n          </button>\r\n        </div>\r\n        <ul>\r\n          {tasks.map((task) => (\r\n            <li key={task._id} className=\"flex justify-between items-center bg-gray-200 p-2 my-1 rounded\">\r\n              <span>{task.text}</span>\r\n              <button onClick={() => deleteTask(task._id)} className=\"bg-red-500 text-white px-2 py-1 rounded\">\r\n                Remove a task\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button onClick={logout} className=\"w-full bg-gray-500 text-white p-2 rounded mt-4\">\r\n          Sign out\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,MAAM;6CAAa;oBACjB,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,CAAC,OAAO,OAAO,OAAO,IAAI,CAAC;oBAE/B,IAAI;wBACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,mCAAmC;4BAC7D,SAAS;gCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;4BAAC;wBAC9C;wBACA,SAAS,IAAI,IAAI;oBACnB,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC;oBAChB;gBACF;;YACA;QACF;yBAAG,EAAE;IAEL,MAAM,UAAU;QACd,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI;YACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,mCAC3B;gBAAE,MAAM;YAAQ,GAChB;gBAAE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAAE;YAElD,SAAS;mBAAI;gBAAO,IAAI,IAAI;aAAC;YAC7B,WAAW;QACb,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,CAAC,gCAAgC,EAAE,IAAI,EAAE;gBAC1D,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,SAAS,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;QAC/C,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAgB;;;;;;8BAC9B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,MAAK;4BAAO,OAAO;4BAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC3E,WAAU;;;;;;sCACZ,6LAAC;4BAAO,SAAS;4BAAS,WAAU;sCAAkD;;;;;;;;;;;;8BAIxF,6LAAC;8BACE,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;4BAAkB,WAAU;;8CAC3B,6LAAC;8CAAM,KAAK,IAAI;;;;;;8CAChB,6LAAC;oCAAO,SAAS,IAAM,WAAW,KAAK,GAAG;oCAAG,WAAU;8CAA0C;;;;;;;2BAF1F,KAAK,GAAG;;;;;;;;;;8BAQrB,6LAAC;oBAAO,SAAS;oBAAQ,WAAU;8BAAiD;;;;;;;;;;;;;;;;;AAM5F;GAhFwB;;QAGP,qIAAA,CAAA,YAAS;;;KAHF","debugId":null}}]
}